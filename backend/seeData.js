const mongoose = require('mongoose');
require('dotenv').config();

const MenuItem = require('./models/MenuItem');
const Event = require('./models/Event');
const Review = require('./models/Review');

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost:27017/bestbooks-cafe', {
  useNewUrlParser: true,
  useUnifiedTopology: true,
});

const seedData = async () => {
  try {
    // –û—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
    await MenuItem.deleteMany({});
    await Event.deleteMany({});
    await Review.deleteMany({});

    console.log('üóëÔ∏è –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã');

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
    const menuItems = [
      // –ö–æ—Ñ–µ
      {
        name: '–≠—Å–ø—Ä–µ—Å—Å–æ',
        description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫—Ä–µ–ø–∫–∏–π –∫–æ—Ñ–µ –∏–∑ –æ—Ç–±–æ—Ä–Ω—ã—Ö –∞—Ä–∞–±—Å–∫–∏—Ö –∑–µ—Ä–µ–Ω',
        price: 180,
        category: 'coffee',
        isBestseller: true,
        allergens: '–∫–æ—Ñ–µ–∏–Ω'
      },
      {
        name: '–ö–∞–ø—É—á–∏–Ω–æ',
        description: '–ù–µ–∂–Ω—ã–π –∫–æ—Ñ–µ —Å –º–æ–ª–æ—á–Ω–æ–π –ø–µ–Ω–∫–æ–π –∏ —Ä–∏—Å—É–Ω–∫–æ–º –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏',
        price: 220,
        category: 'coffee',
        isBestseller: true
      },
      {
        name: '–õ–∞—Ç—Ç–µ —Å —Å–∏—Ä–æ–ø–æ–º',
        description: '–ö–æ—Ñ–µ —Å –º–æ–ª–æ–∫–æ–º –∏ –≤—ã–±–æ—Ä–æ–º —Å–∏—Ä–æ–ø–∞ (–≤–∞–Ω–∏–ª—å, –∫–∞—Ä–∞–º–µ–ª—å, –∫–ª–µ–Ω)',
        price: 250,
        category: 'coffee'
      },
      {
        name: '–ê–º–µ—Ä–∏–∫–∞–Ω–æ',
        description: '–ß–µ—Ä–Ω—ã–π –∫–æ—Ñ–µ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≥–æ—Ä—è—á–µ–π –≤–æ–¥—ã',
        price: 160,
        category: 'coffee'
      },
      {
        name: '–†–∞—Ñ –∫–æ—Ñ–µ',
        description: '–ù–µ–∂–Ω—ã–π –∫–æ—Ñ–µ–π–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫ —Å–æ —Å–ª–∏–≤–∫–∞–º–∏ –∏ –≤–∞–Ω–∏–ª—å—é',
        price: 280,
        category: 'coffee',
        isBestseller: true
      },

      // –î–µ—Å–µ—Ä—Ç—ã
      {
        name: '–¢–∏—Ä–∞–º–∏—Å—É',
        description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –¥–µ—Å–µ—Ä—Ç —Å –∫–æ—Ñ–µ–π–Ω–æ–π –ø—Ä–æ–ø–∏—Ç–∫–æ–π',
        price: 280,
        category: 'desserts',
        isBestseller: true,
        allergens: '–≥–ª—é—Ç–µ–Ω, –ª–∞–∫—Ç–æ–∑–∞'
      },
      {
        name: '–ß–∏–∑–∫–µ–π–∫ –ù—å—é-–ô–æ—Ä–∫',
        description: '–ù–µ–∂–Ω—ã–π —á–∏–∑–∫–µ–π–∫ —Å —è–≥–æ–¥–Ω—ã–º —Å–æ—É—Å–æ–º',
        price: 260,
        category: 'desserts'
      },
      {
        name: '–í–µ–≥–∞–Ω—Å–∫–∏–π –±—Ä–∞—É–Ω–∏',
        description: '–®–æ–∫–æ–ª–∞–¥–Ω—ã–π –±—Ä–∞—É–Ω–∏ –±–µ–∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è',
        price: 200,
        category: 'desserts',
        isVegan: true
      },
      {
        name: '–ú–æ—Ä–∫–æ–≤–Ω—ã–π —Ç–æ—Ä—Ç',
        description: '–ü—Ä—è–Ω—ã–π —Ç–æ—Ä—Ç —Å –º–æ—Ä–∫–æ–≤—å—é –∏ –≥—Ä–µ—Ü–∫–∏–º–∏ –æ—Ä–µ—Ö–∞–º–∏',
        price: 240,
        category: 'desserts'
      },

      // –ó–∞–≤—Ç—Ä–∞–∫–∏
      {
        name: '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∑–∞–≤—Ç—Ä–∞–∫',
        description: '–Ø–∏—á–Ω–∏—Ü–∞, –±–µ–∫–æ–Ω, —Ñ–∞—Å–æ–ª—å, –≥—Ä–∏–±—ã –∏ —Ç–æ—Å—Ç—ã',
        price: 350,
        category: 'breakfast',
        allergens: '–≥–ª—é—Ç–µ–Ω, –ª–∞–∫—Ç–æ–∑–∞, —è–π—Ü–∞'
      },
      {
        name: '–°—ã—Ä–Ω–∏–∫–∏',
        description: '–î–æ–º–∞—à–Ω–∏–µ —Å—ã—Ä–Ω–∏–∫–∏ —Å–æ —Å–º–µ—Ç–∞–Ω–æ–π –∏ —è–≥–æ–¥–Ω—ã–º –¥–∂–µ–º–æ–º',
        price: 280,
        category: 'breakfast',
        isBestseller: true
      },
      {
        name: '–û–≤—Å—è–Ω–∞—è –∫–∞—à–∞',
        description: '–ö–∞—à–∞ —Å —è–≥–æ–¥–∞–º–∏, –æ—Ä–µ—Ö–∞–º–∏ –∏ –º–µ–¥–æ–º',
        price: 220,
        category: 'breakfast',
        isVegan: true
      },

      // –ö–Ω–∏–≥–∏
      {
        name: '1984',
        description: '–î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª - –∞–Ω—Ç–∏—É—Ç–æ–ø–∏—è –æ —Ç–æ—Ç–∞–ª–∏—Ç–∞—Ä–Ω–æ–º –æ–±—â–µ—Å—Ç–≤–µ',
        price: 450,
        category: 'books',
        author: '–î–∂–æ—Ä–¥–∂ –û—Ä—É—ç–ª–ª'
      },
      {
        name: '–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞',
        description: '–ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤ - –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω –æ –¥–æ–±—Ä–µ –∏ –∑–ª–µ',
        price: 420,
        category: 'books',
        author: '–ú–∏—Ö–∞–∏–ª –ë—É–ª–≥–∞–∫–æ–≤',
        isBestseller: true
      },
      {
        name: '–ú–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∏–Ω—Ü',
        description: '–ê–Ω—Ç—É–∞–Ω –¥–µ –°–µ–Ω—Ç-–≠–∫–∑—é–ø–µ—Ä–∏ - —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è —Å–∫–∞–∑–∫–∞ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö –∏ –¥–µ—Ç–µ–π',
        price: 380,
        category: 'books',
        author: '–ê–Ω—Ç—É–∞–Ω –¥–µ –°–µ–Ω—Ç-–≠–∫–∑—é–ø–µ—Ä–∏'
      }
    ];

    await MenuItem.insertMany(menuItems);
    console.log('‚òï –ú–µ–Ω—é –¥–æ–±–∞–≤–ª–µ–Ω–æ');

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
    const events = [
      {
        title: '–í–µ—á–µ—Ä –ø–æ—ç–∑–∏–∏',
        description: '–ß—Ç–µ–Ω–∏–µ —Å—Ç–∏—Ö–æ–≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤ –ø—Ä–∏ —Å–≤–µ—á–∞—Ö. –ü—Ä–∏–Ω–æ—Å–∏—Ç–µ —Å–≤–æ–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è!',
        date: new Date('2024-02-15'),
        time: '19:00',
        maxParticipants: 30,
        location: '–ö–æ—Ñ–µ–π–Ω—è "–õ—É—á—à–∏–µ –∫–Ω–∏–≥–∏"',
        registeredUsers: []
      },
      {
        title: '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ª–∞—Ç—Ç–µ-–∞—Ä—Ç—É',
        description: '–ù–∞—É—á–∏–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ —Ä–∏—Å—É–Ω–∫–∏ –Ω–∞ –∫–æ—Ñ–µ. –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö.',
        date: new Date('2024-02-20'),
        time: '15:00',
        maxParticipants: 15,
        location: '–ö–æ—Ñ–µ–π–Ω—è "–õ—É—á—à–∏–µ –∫–Ω–∏–≥–∏"',
        registeredUsers: []
      },
      {
        title: '–ö–Ω–∏–∂–Ω—ã–π –∫–ª—É–±: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–∑–∞',
        description: '–û–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–æ–≤–µ–π—à–∏—Ö –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –∑–∞ —á–∞—à–∫–æ–π –∫–æ—Ñ–µ.',
        date: new Date('2024-02-25'),
        time: '18:00',
        maxParticipants: 20,
        location: '–ö–æ—Ñ–µ–π–Ω—è "–õ—É—á—à–∏–µ –∫–Ω–∏–≥–∏"',
        registeredUsers: []
      }
    ];

    await Event.insertMany(events);
    console.log('üé≠ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã');

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤
    const reviews = [
      {
        authorName: '–ï—Ä–µ–º–µ–π',
        email: 'hhh@example.com',
        text: '–ü—Ä–∏—è—Ç–Ω–æ–µ —É—é—Ç–Ω–æ–µ –º–µ—Å—Ç–µ—á–∫–æ, –∏–¥–µ–∞–ª—å–Ω–æ–µ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∫–æ—Ñ–µ –∏ –∫–Ω–∏–≥ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∑–¥–µ—Å—å —Å–ø–æ–∫–æ–π–Ω–∞—è –∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—â–∞—è –∫ —á—Ç–µ–Ω–∏—é –∏–ª–∏ —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–∞–º–∏. –ë–∞—Ä–∏—Å—Ç–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–µ, –≥–æ—Ç–æ–≤—è—Ç –≤–∫—É—Å–Ω—ã–π –∫–∞–ø—É—á–∏–Ω–æ –∏ –ª–∞—Ç—Ç–µ. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∏–Ω—É—Å ‚Äî –Ω–µ–º–Ω–æ–≥–æ —Ç–µ—Å–Ω–æ–≤–∞—Ç–æ –≤–Ω—É—Ç—Ä–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —á–∞—Å—ã –ø–∏–∫. –ù–æ –≤ —Ü–µ–ª–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—é!',
        rating: 5,
        status: 'approved',
        isFeatured: true
      },
      {
        authorName: '–ú–∏—Ä–æ–Ω',
        email: 'mil@example.com',
        text: '–ü–æ—Å–µ—â–∞—é —ç—Ç—É –∫–æ—Ñ–µ–π–Ω—é —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–±–æ–∂–∞—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∫–Ω–∏–∂–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ —Å –∑–∞–ø–∞—Ö–æ–º —Å–≤–µ–∂–µ–∑–∞–≤–∞—Ä–µ–Ω–Ω–æ–≥–æ –∫–æ—Ñ–µ. –ó–¥–µ—Å—å –ø—Ä–∏—è—Ç–Ω–æ –ø–æ—Å–∏–¥–µ—Ç—å –≤–µ—á–µ—Ä–æ–º —Å —á–∞—à–µ—á–∫–æ–π –≥–æ—Ä—è—á–µ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞ –∏ –ª—é–±–∏–º–æ–π –∫–Ω–∏–≥–æ–π. –ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∫–æ—Ñ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π, —Ü–µ–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ. –ü—Ä–∞–≤–¥–∞, —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –±–æ–ª—å—à–µ –≤—ã–±–æ—Ä–∞ –¥–µ—Å–µ—Ä—Ç–æ–≤ –∏ –≤—ã–ø–µ—á–∫–∏. –í –æ—Å—Ç–∞–ª—å–Ω–æ–º –≤—Å–µ –æ—Ç–ª–∏—á–Ω–æ!',
        rating: 4,
        status: 'approved'
      },
      {
        authorName: '–ê–ª–µ–∫—Å–µ–π',
        email: '–ª—ã—É—à@example.com',
        text: '–º–æ—è –ª—é–±–∏–º–∞—è –∫–æ—Ñ–µ–π–Ω—è –≤ –≥–æ—Ä–æ–¥–µ! –ò–Ω—Ç–µ—Ä—å–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω —Å—Ç–∏–ª—å–Ω–æ –∏ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ, –º–Ω–æ–≥–æ –ø–æ–ª–æ–∫ —Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –∫–Ω–∏–≥–∞–º–∏, —Å–æ–∑–¥–∞—é—â–∏–º–∏ –æ—Å–æ–±–µ–Ω–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É. –ß–∞—Å—Ç–æ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è –≤—Å—Ç—Ä–µ—á–∏ –ø–∏—Å–∞—Ç–µ–ª–µ–π –∏ –ø–æ—ç—Ç–æ–≤, –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –≤–µ—á–µ—Ä–∞. –ù–∞–ø–∏—Ç–∫–∏ –≤–∫—É—Å–Ω—ã–µ, –ø–æ—Ä—Ü–∏–∏ –±–æ–ª—å—à–∏–µ. –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ –ø–æ–∂–µ–ª–∞–Ω–∏–µ ‚Äî —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç —á–∞—è. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–∏—Ö–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ –∏ —á—Ç–µ–Ω–∏—è.',
        rating: 5,
        status: 'approved',
        isFeatured: true
      },
      {
        authorName: '–ú–∞—Ä–∏–Ω–∞',
        email: 'maaa@example.com',
        text: '–ö–æ—Ñ–µ–π–Ω—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ü–µ–ø—Ç–æ–º, —Å–æ—á–µ—Ç–∞—é—â–∏–º –¥–≤–µ –º–æ–∏ —Å—Ç—Ä–∞—Å—Ç–∏ ‚Äî —á—Ç–µ–Ω–∏–µ –∏ —Ö–æ—Ä–æ—à–∏–π –∫–æ—Ñ–µ. –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —Ç–µ—Ö, –∫–æ–º—É —Ö–æ—á–µ—Ç—Å—è –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –æ—Ç —Å—É–µ—Ç—ã –≥–æ—Ä–æ–¥–∞ –∏ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –º–∏—Ä –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã. –¶–µ–Ω—ã –≤–ø–æ–ª–Ω–µ –ø—Ä–∏–µ–º–ª–µ–º—ã–µ, –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–µ –∏ –≤–µ–∂–ª–∏–≤–æ–µ. –ò–Ω–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä–∫–æ–≤–∫–æ–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏, –Ω–æ –æ–Ω–æ —Ç–æ–≥–æ —Å—Ç–æ–∏—Ç. –û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ —Å–æ–≤–µ—Ç—É—é –ø–æ—Å–µ—Ç–∏—Ç—å —Ö–æ—Ç—è –±—ã —Ä–∞–∑ –∫–∞–∂–¥–æ–º—É –ª—é–±–∏—Ç–µ–ª—é –∫–æ—Ñ–µ –∏ –∫–Ω–∏–≥!',
        rating: 5,
        status: 'approved'
      }
    ];

    await Review.insertMany(reviews);
    console.log '–û—Ç–∑—ã–≤—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã';

    console.log(' –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!');
    process.exit(0);
  } catch (error) {
    console.error(' –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
    process.exit(1);
  }
};

seedData();